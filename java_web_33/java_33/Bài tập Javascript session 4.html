<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bài tập Javascript session 4</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <style>
        label {
            width: 100%;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
</head>
<body>
<div id="array"></div>
<div id="wrapper"></div>
<div id="copy-wrapper"></div>
<p>
    <button id="btn">Copy</button>
</p>
<img id="image" src="" alt=""/>
<p><a onclick="load(this)" href="javascript:void(0)">https://images.pexels.com/photos/236047/pexels-photo-236047.jpeg?auto=compress&cs=tinysrgb&h=350</a>
</p>
<p><a onclick="load(this)" href="javascript:void(0)">https://estaticos.qdq.com/swdata/photos/719/719902669/Naturaleza_Fondo-de-pantalla-Naturaleza-103.jpg</a>
</p>
<p><a onclick="load(this)" href="javascript:void(0)">https://c1.staticflickr.com/5/4126/5014409129_a34e7856bf_b.jpg</a>
</p>
<div class="container">
    <h2>Sign Up</h2>
    <form action="/action_page.php">
        <div class="form-group">
            <label for="username">Username:
                <input type="text" class="form-control" id="username" placeholder="Enter username" name="username"/>
                <i class="error error_username">(*) Vui lòng điền vào trường này</i>
            </label>
        </div>
        <div class="form-group">
            <label for="pwd">Password:
                <input type="password" class="form-control" id="pwd" placeholder="Enter password"
                       name="pwd"/>
                <i class="error error_pwd">(*) Vui lòng điền vào trường này</i>
            </label>
        </div>
        <div class="form-group">
            <label for="email">Email:
                <input type="email" class="form-control" id="email" placeholder="Enter email" name="email"/>
                <i class="error error_email">(*) Vui lòng điền vào trường này</i>
            </label>
        </div>
        <div class="form-group">
            <label for="fullname">Full Name:
                <input type="text" class="form-control" id="fullname" placeholder="Enter full name" name="fullname"/>
                <i class="error error_fullname">(*) Vui lòng điền vào trường này</i>
            </label>
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
    </form>
</div>
<script>
    /**
     * 1. Viết chuơng trình định nghĩa một mảng số nguyên bất kì, kiểm tra xem trong mảng có bao nhiêu số chẵn, bao nhiêu số lẻ và in ra trình duyệt
     * @type {string}
     */
    /**
     * The shortest approach (ES6)
     * randomly generated N = lengthInteger array 0 <= A[lengthInteger] <= lengthInteger - 1
     * @type {string}
     */
    let lengthInteger = prompt("Bạn hãy nhập vào số lượng số nguyên bất kì");
    let arrayInteger = Array.from({length: lengthInteger}, () => Math.ceil(Math.random() * lengthInteger));
    console.log(arrayInteger);
    $('#array').append('Mảng random: <b>' + arrayInteger + '</b><br/>');
    for (let i = 0; i < arrayInteger.length; i++) {
        if (arrayInteger[i] % 2 === 0)
            $('#result').append('Số chẵn: <b>' + arrayInteger[i] + '</b><br/>');
        else
            $('#result').append('Số lẻ: <b>' + arrayInteger[i] + '</b><br/>');
    }
    /**
     * 2. Cho một mảng số nguyên bất kì, sắp xếp mảng theo giá trị tăng dần (sử dụng bất kì thuật toán nào bạn muốn)
     */
    arrayInteger.sort((a, b) => a - b);
    console.log(arrayInteger);
    $('#array').append('Mảng được sắp xếp tăng dần: <b>' + arrayInteger + '</b><br/>');
    /**
     * 3. Viết chuơng trình hiện thị thời gian của máy tính sử dụng đối tuợng Date() của javascript và hiển thị ra trình duyệt
     */
    const date = new Date();
    console.log('Thời gian của máy tính: ' + date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear() + ' '
        + date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds());
    $('#array').append('Thời gian của máy tính: <b>' + Date() + '</b><br/>');
    /**
     * 4. Lấy dữ liệu từ mảng và đưa vào trong thẻ <p>, sau đó đưa vào trong thẻ div có id là                   wrapper
     */
    var mang = [
        "This is paragraph 1",
        "This is paragraph 2",
        "This is paragraph 3",
        "This is paragraph 4",
        "This is paragraph 5"
    ];
    for (let i = 0; i < mang.length; i++) {
        $('#wrapper').append('<p>' + mang[i] + '</p>');
    }
    /**
     * 5. Lấy child trong thẻ <div> có id=”wrapper” và đưa vào thẻ <div> có id=”copy-wrapper” khi nhấn nút có id “btn”
     */
    $('#btn').click(function () {
        let htmlWrapper = $('#wrapper').html();
        $('#copy-wrapper').html(htmlWrapper);
    });
    /**
     * 6. Khi click vào mỗi thẻ <a>, load ảnh vào thẻ <image> có id=”image”
     */
    function load(image) {
        console.log(image);
        $('#image').attr('src', image.innerHTML);
    }
    /**
     * 7. Tạo form đăng nhập và validate
     */
    $('form').submit(function (e) {
        let username = $('#username').val();
        if (username.length > 0) {
            if (username.length > 5 && username.length < 10) {
                $('.error_username').css('display', 'none');
            } else {
                $('.error_username').text('(*) Username chiều dài phải lớn hơn 5 và nhỏ hơn 10').css('display', 'inline-block');
                e.preventDefault();
            }
        } else {
            $('.error_username').text('(*) Vui lòng điền vào trường này').css('display', 'inline-block');
            e.preventDefault();
        }
        let pwd = $('#pwd').val();
        if (pwd.length > 0) {
            if (pwd.length > 5 && pwd.length < 10) {
                $('.error_pwd').css('display', 'none');
            } else {
                $('.error_pwd').text('(*) Password chiều dài phải lớn hơn 5 và nhỏ hơn 10').css('display', 'inline-block');
                e.preventDefault();
            }
        } else {
            $('.error_pwd').text('(*) Vui lòng điền vào trường này').css('display', 'inline-block');
            e.preventDefault();
        }
        let email = $('#email').val();
        if (email.length > 0) {
            $('.error_email').css('display', 'none');
        } else {
            $('.error_email').css('display', 'inline-block');
            e.preventDefault();
        }
        let fullname = $('#fullname').val();
        if (fullname.length > 0) {
            if (fullname.length > 5 && fullname.length < 10) {
                $('.error_fullname').css('display', 'none');
            } else {
                $('.error_fullname').text('(*) Full Name chiều dài phải lớn hơn 5 và nhỏ hơn 10').css('display', 'inline-block');
                e.preventDefault();
            }
        } else {
            $('.error_fullname').text('(*) Vui lòng điền vào trường này').css('display', 'inline-block');
            e.preventDefault();
        }
    });
</script>
</body>
</html>
